{"version":3,"sources":["jquery-adapter.js"],"names":["root","factory","define","amd","exports","module","jQueryAdapter","window","$","D","slice","Promise","fn","me","this","deferred","Deferred","proxy","resolve","reject","assign","data","promise","r","all","args","when","apply","then","call","arguments","prototype","catch","fail","Adapter","ajax","hasClass","el","name","addClass","removeClass","delegateDomEvent","selector","on","undelegateDomEvents","namespace","off","getFormData","form","each","serializeArray","i","item","o","undefined","value","isArray","push","componentHandler","creator","view","options","destructor","component"],"mappings":";;;;;;AAAA,cAEA,SAAAA,EAAAC,GACA,kBAAAC,SAAAA,OAAAC,IACAD,OAAA,WACA,MAAAD,KAEA,gBAAAG,SACAC,OAAAD,QAAAH,EAEAD,EAAAM,cAAAL,GAEAM,OAAA,SAAAP,EAAAQ,EAAAC,GACA,GAAAC,MAAAA,MAEAC,EAAA,SAAAC,GACA,GAAAC,GAAAC,IAEAA,MAAAC,SAAAP,EAAAQ,WAGAJ,EAAAJ,EAAAS,MAAAJ,EAAAE,SAAAG,QAAAL,EAAAE,UAAAP,EAAAS,MAAAJ,EAAAE,SAAAI,OAAAN,EAAAE,WAGAN,GAAAW,OAAAT,GACAO,QAAA,SAAAG,GACA,MAAAA,IAAAA,EAAAC,QAAAD,EAAAC,UACA,GAAAX,GAAA,SAAAO,GAAAA,EAAAG,MAGAF,OAAA,SAAAE,GACA,MAAAA,IAAAA,EAAAC,QAAAD,EAAAC,UACA,GAAAX,GAAA,SAAAY,EAAAJ,GAAAA,EAAAE,MAGAG,IAAA,SAAAC,GACA,MAAA,IAAAd,GAAA,SAAAO,EAAAC,GACAX,EAAAkB,KAAAC,MAAAnB,EAAAiB,GAAAG,KAAA,WACAV,EAAAR,EAAAmB,KAAAC,aACA,WACAX,EAAAT,EAAAmB,KAAAC,mBAMArB,EAAAW,OAAAT,EAAAoB,WACAH,KAAA,WAAA,MAAAd,MAAAC,SAAAa,KAAAD,MAAAb,KAAAC,SAAAe,YAEAR,QAAA,WAAA,MAAAR,MAAAC,SAAAO,WAEAU,QAAA,SAAApB,GAAA,MAAAE,MAAAC,SAAAkB,KAAArB,MAGAH,EAAAW,OAAAX,EAAAyB,SACAvB,QAAAX,EAAAW,SAAAA,EACAwB,KAAA3B,EAAA2B,KACAC,SAAA,SAAAC,EAAAC,GAAA,MAAA9B,GAAA6B,GAAAD,SAAAE,IACAC,SAAA,SAAAF,EAAAC,GAAA,MAAA9B,GAAA6B,GAAAE,SAAAD,IACAE,YAAA,SAAAH,EAAAC,GAAA,MAAA9B,GAAA6B,GAAAG,YAAAF,IACAG,iBAAA,SAAAJ,EAAAC,EAAAI,EAAA9B,GACAJ,EAAA6B,GAAAM,GAAAL,EAAAI,EAAA9B,IAEAgC,oBAAA,SAAAP,EAAAQ,GACArC,EAAA6B,GAAAS,IAAAD,IAEAE,YAAA,SAAAC,GACA,GAAA3B,KAYA,OAXAb,GAAAyC,KAAAzC,EAAAwC,GAAAE,iBAAA,SAAAC,EAAAC,GACA,GAAAC,GAAAhC,EAAA+B,EAAAd,KACAgB,UAAAD,EACAhC,EAAA+B,EAAAd,MAAAc,EAAAG,OAEA9C,EAAA+C,QAAAH,KACAA,EAAAhC,EAAA+B,EAAAd,OAAAjB,EAAA+B,EAAAd,QAEAe,EAAAI,KAAAL,EAAAG,UAGAlC,GAEAqC,iBAAA,SAAApB,GACA,OACAqB,QAAA,SAAAC,EAAAvB,EAAAwB,GACA,MAAArD,GAAA6B,GAAAC,GAAAuB,IAEAC,WAAA,SAAAF,EAAAG,GACAA,EAAAzB,GAAA","file":"jquery-adapter.min.js","sourceRoot":"/source/","sourcesContent":["/*!\n * DrizzleJS v0.3.18\n * -------------------------------------\n * Copyright (c) 2015 Jaco Koo <jaco.koo@guyong.in>\n * Distributed under MIT license\n */\n\n'use strict';\n\n(function(root, factory) {\n    if (typeof define === 'function' && define.amd) {\n        define(function() {\n            return factory;\n        });\n    } else if (typeof exports === 'object') {\n        module.exports = factory;\n    } else {\n        root.jQueryAdapter = factory;\n    }\n})(window, function(root, $, D) {\n    var slice = [].slice,\n\n    Promise = function(fn) {\n        var me = this;\n        /*eslint-disable*/\n        this.deferred = $.Deferred();\n        /*eslint-enable*/\n\n        fn($.proxy(me.deferred.resolve, me.deferred), $.proxy(me.deferred.reject, me.deferred));\n    };\n\n    D.assign(Promise, {\n        resolve: function(data) {\n            if (data && data.promise) return data.promise();\n            return new Promise(function(resolve) { resolve(data); });\n        },\n\n        reject: function(data) {\n            if (data && data.promise) return data.promise();\n            return new Promise(function(r, reject) { reject(data); });\n        },\n\n        all: function(args) {\n            return new Promise(function(resolve, reject) {\n                $.when.apply($, args).then(function() {\n                    resolve(slice.call(arguments));\n                }, function() {\n                    reject(slice.call(arguments));\n                });\n            });\n        }\n    });\n\n    D.assign(Promise.prototype, {\n        then: function() { return this.deferred.then.apply(this.deferred, arguments); },\n\n        promise: function() { return this.deferred.promise(); },\n\n        'catch': function(fn) { return this.deferred.fail(fn); }\n    });\n\n    D.assign(D.Adapter, {\n        Promise: root.Promise || Promise,\n        ajax: $.ajax,\n        hasClass: function(el, name) { return $(el).hasClass(name); },\n        addClass: function(el, name) { return $(el).addClass(name); },\n        removeClass: function(el, name) { return $(el).removeClass(name); },\n        delegateDomEvent: function(el, name, selector, fn) {\n            $(el).on(name, selector, fn);\n        },\n        undelegateDomEvents: function(el, namespace) {\n            $(el).off(namespace);\n        },\n        getFormData: function(form) {\n            var data = {};\n            $.each($(form).serializeArray(), function(i, item) {\n                var o = data[item.name];\n                if (o === undefined) {\n                    data[item.name] = item.value;\n                } else {\n                    if (!D.isArray(o)) {\n                        o = data[item.name] = [data[item.name]];\n                    }\n                    o.push(item.value);\n                }\n            });\n            return data;\n        },\n        componentHandler: function(name) {\n            return {\n                creator: function(view, el, options) {\n                    return $(el)[name](options);\n                },\n                destructor: function(view, component) {\n                    component[name]('destroy');\n                }\n            };\n        }\n    });\n});\n"]}